from unittest import TestCase

from .contrast_sigmoid import Point, get_contrast, get_flat

_GREY18 = 87 / 255
_SLOPE = 2.5


class ContrastSigmoid(TestCase):
    def test_get_flat(self) -> None:
        self.assertEqual(
            get_flat(_GREY18),
            [
                Point(x=0.0000000, y=0.0000000),
                Point(x=0.0235294, y=0.0509530),
                Point(x=0.0549020, y=0.0977647),
                Point(x=0.0862745, y=0.1410306),
                Point(x=0.1176471, y=0.1839153),
                Point(x=0.1490196, y=0.2262735),
                Point(x=0.1803922, y=0.2679594),
                Point(x=0.2117647, y=0.3088329),
                Point(x=0.2431373, y=0.3487645),
                Point(x=0.2784314, y=0.3924198),
                Point(x=0.3137255, y=0.4346028),
                Point(x=0.3490196, y=0.4752102),
                Point(x=0.3843137, y=0.5141729),
                Point(x=0.4196078, y=0.5514554),
                Point(x=0.4549020, y=0.5870556),
                Point(x=0.4941176, y=0.6246738),
                Point(x=0.5333333, y=0.6603301),
                Point(x=0.5725490, y=0.6941420),
                Point(x=0.6117647, y=0.7262599),
                Point(x=0.6549020, y=0.7598476),
                Point(x=0.6980392, y=0.7918747),
                Point(x=0.7411765, y=0.8226424),
                Point(x=0.7843137, y=0.8524758),
                Point(x=0.8274510, y=0.8817185),
                Point(x=0.8705882, y=0.9107271),
                Point(x=0.9137255, y=0.9398662),
                Point(x=0.9568627, y=0.9695027),
                Point(x=1.0000000, y=1.0000000),
            ],
        )

    def test_get_contrast(self) -> None:
        self.assertEqual(
            get_contrast(_SLOPE),
            [
                Point(x=0.0000000, y=0.0000000),
                Point(x=0.0509804, y=0.0003131),
                Point(x=0.1019608, y=0.0015925),
                Point(x=0.1529412, y=0.0063279),
                Point(x=0.2039216, y=0.0218545),
                Point(x=0.2470588, y=0.0555109),
                Point(x=0.2823529, y=0.0954664),
                Point(x=0.3137255, y=0.1397065),
                Point(x=0.3411765, y=0.1856250),
                Point(x=0.3647059, y=0.2303332),
                Point(x=0.3882353, y=0.2796567),
                Point(x=0.4117647, y=0.3329696),
                Point(x=0.4313725, y=0.3797807),
                Point(x=0.4509804, y=0.4280406),
                Point(x=0.4705882, y=0.4769804),
                Point(x=0.4901961, y=0.5257890),
                Point(x=0.5098039, y=0.5736665),
                Point(x=0.5294118, y=0.6198745),
                Point(x=0.5529412, y=0.6722379),
                Point(x=0.5764706, y=0.7204564),
                Point(x=0.6039216, y=0.7707843),
                Point(x=0.6313725, y=0.8144289),
                Point(x=0.6627451, y=0.8562940),
                Point(x=0.6980392, y=0.8940198),
                Point(x=0.7372549, y=0.9259717),
                Point(x=0.7803922, y=0.9514429),
                Point(x=0.8274510, y=0.9706022),
                Point(x=0.8784314, y=0.9842445),
                Point(x=0.9294118, y=0.9929519),
                Point(x=0.9803922, y=0.9984687),
                Point(x=1.0000000, y=1.0000000),
            ],
        )

from unittest import TestCase

from .contrast_sigmoid import Point, get_contrast, get_flat

_GREY18 = 87 / 255
_SLOPE = 2.5


class ContrastSigmoid(TestCase):
    def test_get_flat(self) -> None:
        self.assertEqual(
            get_flat(_GREY18),
            [
                Point(x=0.0000000, y=0.0000000),
                Point(x=0.0322581, y=0.0477861),
                Point(x=0.0645161, y=0.1007094),
                Point(x=0.0967742, y=0.1552313),
                Point(x=0.1290323, y=0.2071549),
                Point(x=0.1612903, y=0.2568850),
                Point(x=0.1935484, y=0.3046639),
                Point(x=0.2258065, y=0.3506366),
                Point(x=0.2580645, y=0.3948848),
                Point(x=0.2903226, y=0.4374448),
                Point(x=0.3225806, y=0.4783190),
                Point(x=0.3548387, y=0.5173225),
                Point(x=0.3870968, y=0.5533105),
                Point(x=0.4193548, y=0.5864825),
                Point(x=0.4516129, y=0.6172557),
                Point(x=0.4838710, y=0.6459713),
                Point(x=0.5161290, y=0.6729194),
                Point(x=0.5483871, y=0.6983561),
                Point(x=0.5806452, y=0.7225138),
                Point(x=0.6129032, y=0.7456091),
                Point(x=0.6451613, y=0.7678480),
                Point(x=0.6774194, y=0.7894297),
                Point(x=0.7096774, y=0.8105494),
                Point(x=0.7419355, y=0.8313995),
                Point(x=0.7741935, y=0.8521709),
                Point(x=0.8064516, y=0.8730530),
                Point(x=0.8387097, y=0.8942332),
                Point(x=0.8709677, y=0.9158963),
                Point(x=0.9032258, y=0.9382225),
                Point(x=0.9354839, y=0.9613864),
                Point(x=0.9677419, y=0.9855548),
                Point(x=1.0000000, y=1.0108845),
            ],
        )

    def test_get_contrast(self) -> None:
        self.assertEqual(
            get_contrast(_SLOPE),
            [
                Point(x=0.0000000, y=0.0000000),
                Point(x=0.0322581, y=0.0056377),
                Point(x=0.0645161, y=0.0123089),
                Point(x=0.0967742, y=0.0202667),
                Point(x=0.1290323, y=0.0298367),
                Point(x=0.1612903, y=0.0414411),
                Point(x=0.1935484, y=0.0556273),
                Point(x=0.2258065, y=0.0731032),
                Point(x=0.2580645, y=0.0947730),
                Point(x=0.2903226, y=0.1217634),
                Point(x=0.3225806, y=0.1554135),
                Point(x=0.3548387, y=0.1971769),
                Point(x=0.3870968, y=0.2483636),
                Point(x=0.4193548, y=0.3096510),
                Point(x=0.4516129, y=0.3804109),
                Point(x=0.4838710, y=0.4581477),
                Point(x=0.5161290, y=0.5385711),
                Point(x=0.5483871, y=0.6165987),
                Point(x=0.5806452, y=0.6878482),
                Point(x=0.6129032, y=0.7496975),
                Point(x=0.6451613, y=0.8014155),
                Point(x=0.6774194, y=0.8436244),
                Point(x=0.7096774, y=0.8776186),
                Point(x=0.7419355, y=0.9048598),
                Point(x=0.7741935, y=0.9267032),
                Point(x=0.8064516, y=0.9442932),
                Point(x=0.8387097, y=0.9585493),
                Point(x=0.8709677, y=0.9701912),
                Point(x=0.9032258, y=0.9797755),
                Point(x=0.9354839, y=0.9877307),
                Point(x=0.9677419, y=0.9943871),
                Point(x=1.0000000, y=1.0000000),
            ],
        )

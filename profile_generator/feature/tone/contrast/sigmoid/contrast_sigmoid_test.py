from unittest import TestCase

from .contrast_sigmoid import Point, get_contrast, get_flat

_GREY18 = 87 / 255
_SLOPE = 2.5


class ContrastSigmoid(TestCase):
    def test_get_flat(self) -> None:
        self.assertEqual(
            get_flat(_GREY18),
            [
                Point(x=0.0000000, y=0.0000000),
                Point(x=0.0322581, y=0.0477861),
                Point(x=0.0645161, y=0.1007094),
                Point(x=0.0967742, y=0.1552313),
                Point(x=0.1290323, y=0.2071549),
                Point(x=0.1612903, y=0.2568850),
                Point(x=0.1935484, y=0.3046639),
                Point(x=0.2258065, y=0.3506366),
                Point(x=0.2580645, y=0.3948848),
                Point(x=0.2903226, y=0.4374448),
                Point(x=0.3225806, y=0.4783190),
                Point(x=0.3548387, y=0.5173882),
                Point(x=0.3870968, y=0.5540018),
                Point(x=0.4193548, y=0.5883582),
                Point(x=0.4516129, y=0.6207688),
                Point(x=0.4838710, y=0.6514808),
                Point(x=0.5161290, y=0.6806953),
                Point(x=0.5483871, y=0.7085781),
                Point(x=0.5806452, y=0.7352682),
                Point(x=0.6129032, y=0.7608833),
                Point(x=0.6451613, y=0.7855241),
                Point(x=0.6774194, y=0.8092773),
                Point(x=0.7096774, y=0.8322184),
                Point(x=0.7419355, y=0.8544133),
                Point(x=0.7741935, y=0.8759202),
                Point(x=0.8064516, y=0.8967902),
                Point(x=0.8387097, y=0.9170690),
                Point(x=0.8709677, y=0.9367974),
                Point(x=0.9032258, y=0.9560118),
                Point(x=0.9354839, y=0.9747451),
                Point(x=0.9677419, y=0.9930270),
                Point(x=1.0000000, y=1.0108845),
            ],
        )

    def test_get_contrast(self) -> None:
        self.assertEqual(
            get_contrast(_SLOPE),
            [
                Point(x=0.0000000, y=0.0000000),
                Point(x=0.0322581, y=0.0023568),
                Point(x=0.0645161, y=0.0053902),
                Point(x=0.0967742, y=0.0093506),
                Point(x=0.1290323, y=0.0145984),
                Point(x=0.1612903, y=0.0216563),
                Point(x=0.1935484, y=0.0312858),
                Point(x=0.2258065, y=0.0445861),
                Point(x=0.2580645, y=0.0631011),
                Point(x=0.2903226, y=0.0888669),
                Point(x=0.3225806, y=0.1242434),
                Point(x=0.3548387, y=0.1712995),
                Point(x=0.3870968, y=0.2307133),
                Point(x=0.4193548, y=0.3008195),
                Point(x=0.4516129, y=0.3779204),
                Point(x=0.4838710, y=0.4580223),
                Point(x=0.5161290, y=0.5385711),
                Point(x=0.5483871, y=0.6165987),
                Point(x=0.5806452, y=0.6878482),
                Point(x=0.6129032, y=0.7496975),
                Point(x=0.6451613, y=0.8014155),
                Point(x=0.6774194, y=0.8436244),
                Point(x=0.7096774, y=0.8776186),
                Point(x=0.7419355, y=0.9048598),
                Point(x=0.7741935, y=0.9267032),
                Point(x=0.8064516, y=0.9442932),
                Point(x=0.8387097, y=0.9585493),
                Point(x=0.8709677, y=0.9701912),
                Point(x=0.9032258, y=0.9797755),
                Point(x=0.9354839, y=0.9877307),
                Point(x=0.9677419, y=0.9943871),
                Point(x=1.0000000, y=1.0000000),
            ],
        )

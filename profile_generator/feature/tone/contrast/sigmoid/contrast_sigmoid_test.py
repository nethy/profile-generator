from unittest import TestCase

from .contrast_sigmoid import Point, get_contrast, get_flat

_GREY18 = 0.08
_SLOPE = 2.5


class ContrastSigmoid(TestCase):
    def test_get_flat(self) -> None:
        self.assertEqual(
            get_flat(_GREY18),
            [
                Point(x=0.0000000, y=0.0000000),
                Point(x=0.0196078, y=0.0519249),
                Point(x=0.0431373, y=0.0934595),
                Point(x=0.0705882, y=0.1345733),
                Point(x=0.0980392, y=0.1753008),
                Point(x=0.1254902, y=0.2155077),
                Point(x=0.1529412, y=0.2550543),
                Point(x=0.1803922, y=0.2938018),
                Point(x=0.2117647, y=0.3369377),
                Point(x=0.2431373, y=0.3786826),
                Point(x=0.2745098, y=0.4188909),
                Point(x=0.3058824, y=0.4574532),
                Point(x=0.3372549, y=0.4942990),
                Point(x=0.3686275, y=0.5293966),
                Point(x=0.4039216, y=0.5667990),
                Point(x=0.4392157, y=0.6020515),
                Point(x=0.4745098, y=0.6352526),
                Point(x=0.5098039, y=0.6665347),
                Point(x=0.5490196, y=0.6992326),
                Point(x=0.5882353, y=0.7299924),
                Point(x=0.6274510, y=0.7590661),
                Point(x=0.6666667, y=0.7867112),
                Point(x=0.7058824, y=0.8131860),
                Point(x=0.7490196, y=0.8412618),
                Point(x=0.7921569, y=0.8685668),
                Point(x=0.8352941, y=0.8954329),
                Point(x=0.8784314, y=0.9221919),
                Point(x=0.9215686, y=0.9491810),
                Point(x=0.9647059, y=0.9767507),
                Point(x=1.0000000, y=1.0000000),
            ],
        )

    def test_get_contrast(self) -> None:
        self.assertEqual(
            get_contrast(_SLOPE),
            [
                Point(x=0.0000000, y=0.0000000),
                Point(x=0.0470588, y=0.0002717),
                Point(x=0.0941176, y=0.0012655),
                Point(x=0.1411765, y=0.0046707),
                Point(x=0.1882353, y=0.0151044),
                Point(x=0.2313725, y=0.0407591),
                Point(x=0.2666667, y=0.0764917),
                Point(x=0.2980392, y=0.1165092),
                Point(x=0.3254902, y=0.1585523),
                Point(x=0.3490196, y=0.1999892),
                Point(x=0.3725490, y=0.2462859),
                Point(x=0.3960784, y=0.2970243),
                Point(x=0.4156863, y=0.3421817),
                Point(x=0.4352941, y=0.3893404),
                Point(x=0.4549020, y=0.4377998),
                Point(x=0.4745098, y=0.4867368),
                Point(x=0.4941176, y=0.5349823),
                Point(x=0.5137255, y=0.5816927),
                Point(x=0.5333333, y=0.6262218),
                Point(x=0.5568627, y=0.6760835),
                Point(x=0.5803922, y=0.7215214),
                Point(x=0.6039216, y=0.7622704),
                Point(x=0.6313725, y=0.8038865),
                Point(x=0.6627451, y=0.8440455),
                Point(x=0.6980392, y=0.8807807),
                Point(x=0.7372549, y=0.9127556),
                Point(x=0.7803922, y=0.9393689),
                Point(x=0.8235294, y=0.9591529),
                Point(x=0.8705882, y=0.9750148),
                Point(x=0.9176471, y=0.9865765),
                Point(x=0.9647059, y=0.9950833),
                Point(x=1.0000000, y=1.0000000),
            ],
        )

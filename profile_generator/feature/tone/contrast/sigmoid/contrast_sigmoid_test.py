from unittest import TestCase

from .contrast_sigmoid import Point, get_contrast, get_flat

_GREY18 = 87 / 255
_SLOPE = 2.5


class ContrastSigmoid(TestCase):
    def test_get_flat(self) -> None:
        self.assertEqual(
            get_flat(_GREY18),
            [
                Point(x=0.0000000, y=0.0000000),
                Point(x=0.0235294, y=0.0535616),
                Point(x=0.0509804, y=0.0954714),
                Point(x=0.0823529, y=0.1389986),
                Point(x=0.1137255, y=0.1818578),
                Point(x=0.1450980, y=0.2239620),
                Point(x=0.1764706, y=0.2652373),
                Point(x=0.2078431, y=0.3056219),
                Point(x=0.2392157, y=0.3450651),
                Point(x=0.2745098, y=0.3882634),
                Point(x=0.3098039, y=0.4301757),
                Point(x=0.3450980, y=0.4707716),
                Point(x=0.3803922, y=0.5100330),
                Point(x=0.4156863, y=0.5479521),
                Point(x=0.4509804, y=0.5845305),
                Point(x=0.4901961, y=0.6236125),
                Point(x=0.5294118, y=0.6610739),
                Point(x=0.5686275, y=0.6969462),
                Point(x=0.6078431, y=0.7312673),
                Point(x=0.6470588, y=0.7640808),
                Point(x=0.6862745, y=0.7954343),
                Point(x=0.7294118, y=0.8282973),
                Point(x=0.7725490, y=0.8595248),
                Point(x=0.8156863, y=0.8891883),
                Point(x=0.8588235, y=0.9173600),
                Point(x=0.9019608, y=0.9441116),
                Point(x=0.9450980, y=0.9695135),
                Point(x=0.9921569, y=0.9957665),
                Point(x=1.0000000, y=1.0000000),
            ],
        )

    def test_get_contrast(self) -> None:
        self.assertEqual(
            get_contrast(_SLOPE),
            [
                Point(x=0.0000000, y=0.0000000),
                Point(x=0.0509804, y=0.0114702),
                Point(x=0.0980392, y=0.0344606),
                Point(x=0.1372549, y=0.0657147),
                Point(x=0.1764706, y=0.1010369),
                Point(x=0.2156863, y=0.1403002),
                Point(x=0.2509804, y=0.1789547),
                Point(x=0.2862745, y=0.2205991),
                Point(x=0.3176471, y=0.2599225),
                Point(x=0.3490196, y=0.3011572),
                Point(x=0.3803922, y=0.3439884),
                Point(x=0.4117647, y=0.3880443),
                Point(x=0.4431373, y=0.4329080),
                Point(x=0.4745098, y=0.4781296),
                Point(x=0.5058824, y=0.5230508),
                Point(x=0.5372549, y=0.5668260),
                Point(x=0.5686275, y=0.6088563),
                Point(x=0.6000000, y=0.6487634),
                Point(x=0.6352941, y=0.6908834),
                Point(x=0.6705882, y=0.7300234),
                Point(x=0.7058824, y=0.7663264),
                Point(x=0.7450980, y=0.8036768),
                Point(x=0.7843137, y=0.8383599),
                Point(x=0.8235294, y=0.8708950),
                Point(x=0.8666667, y=0.9047635),
                Point(x=0.9098039, y=0.9370714),
                Point(x=0.9529412, y=0.9680266),
                Point(x=0.9960784, y=0.9974289),
                Point(x=1.0000000, y=1.0000000),
            ],
        )

from unittest import TestCase

from .contrast_sigmoid import Point, get_contrast, get_flat

_GREY18 = 87 / 255
_SLOPE = 2.5


class ContrastSigmoid(TestCase):
    def test_get_flat(self) -> None:
        self.assertEqual(
            get_flat(_GREY18),
            [
                Point(x=0.0000000, y=0.0000000),
                Point(x=0.0235294, y=0.0452095),
                Point(x=0.0549020, y=0.0896194),
                Point(x=0.0862745, y=0.1309024),
                Point(x=0.1176471, y=0.1721854),
                Point(x=0.1490196, y=0.2134684),
                Point(x=0.1803922, y=0.2547513),
                Point(x=0.2117647, y=0.2960343),
                Point(x=0.2431373, y=0.3373173),
                Point(x=0.2745098, y=0.3786003),
                Point(x=0.3058824, y=0.4198833),
                Point(x=0.3372549, y=0.4611662),
                Point(x=0.3686275, y=0.5010195),
                Point(x=0.4039216, y=0.5420793),
                Point(x=0.4392157, y=0.5800043),
                Point(x=0.4745098, y=0.6154269),
                Point(x=0.5137255, y=0.6523883),
                Point(x=0.5529412, y=0.6872517),
                Point(x=0.5921569, y=0.7203452),
                Point(x=0.6313725, y=0.7519193),
                Point(x=0.6745098, y=0.7851291),
                Point(x=0.7176471, y=0.8169447),
                Point(x=0.7607843, y=0.8475320),
                Point(x=0.8039216, y=0.8770264),
                Point(x=0.8470588, y=0.9055397),
                Point(x=0.8901961, y=0.9331659),
                Point(x=0.9333333, y=0.9599847),
                Point(x=0.9764706, y=0.9860646),
                Point(x=1.0000000, y=1.0000000),
            ],
        )

    def test_get_contrast(self) -> None:
        self.assertEqual(
            get_contrast(_SLOPE),
            [
                Point(x=0.0000000, y=0.0000000),
                Point(x=0.0509804, y=0.0017430),
                Point(x=0.1019608, y=0.0062781),
                Point(x=0.1529412, y=0.0178136),
                Point(x=0.2000000, y=0.0419187),
                Point(x=0.2392157, y=0.0731402),
                Point(x=0.2784314, y=0.1126307),
                Point(x=0.3098039, y=0.1515986),
                Point(x=0.3411765, y=0.1983147),
                Point(x=0.3686275, y=0.2462376),
                Point(x=0.3921569, y=0.2927366),
                Point(x=0.4156863, y=0.3440088),
                Point(x=0.4392157, y=0.3993341),
                Point(x=0.4588235, y=0.4475929),
                Point(x=0.4784314, y=0.4965189),
                Point(x=0.4980392, y=0.5445234),
                Point(x=0.5215686, y=0.5993730),
                Point(x=0.5450980, y=0.6500910),
                Point(x=0.5686275, y=0.6960439),
                Point(x=0.5960784, y=0.7434156),
                Point(x=0.6274510, y=0.7896699),
                Point(x=0.6627451, y=0.8327273),
                Point(x=0.7019608, y=0.8712238),
                Point(x=0.7450980, y=0.9045468),
                Point(x=0.7882353, y=0.9306185),
                Point(x=0.8352941, y=0.9528615),
                Point(x=0.8823529, y=0.9702839),
                Point(x=0.9333333, y=0.9851364),
                Point(x=0.9843137, y=0.9968825),
                Point(x=1.0000000, y=1.0000000),
            ],
        )

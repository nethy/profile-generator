from unittest import TestCase

from .contrast_sigmoid import Point, get_contrast, get_flat

_GREY18 = 0.08
_SLOPE = 2.5


class ContrastSigmoid(TestCase):
    def test_get_flat(self) -> None:
        self.assertEqual(
            get_flat(_GREY18),
            [
                Point(x=0.0000000, y=0.0000000),
                Point(x=0.0196078, y=0.0518846),
                Point(x=0.0431373, y=0.0933640),
                Point(x=0.0705882, y=0.1344128),
                Point(x=0.0980392, y=0.1750938),
                Point(x=0.1254902, y=0.2153114),
                Point(x=0.1529412, y=0.2549665),
                Point(x=0.1803922, y=0.2939487),
                Point(x=0.2078431, y=0.3321184),
                Point(x=0.2392157, y=0.3744790),
                Point(x=0.2705882, y=0.4150266),
                Point(x=0.3019608, y=0.4531871),
                Point(x=0.3333333, y=0.4886745),
                Point(x=0.3686275, y=0.5255954),
                Point(x=0.4039216, y=0.5598122),
                Point(x=0.4392157, y=0.5918213),
                Point(x=0.4784314, y=0.6253188),
                Point(x=0.5176471, y=0.6571141),
                Point(x=0.5568627, y=0.6876126),
                Point(x=0.5960784, y=0.7171425),
                Point(x=0.6352941, y=0.7459637),
                Point(x=0.6745098, y=0.7742756),
                Point(x=0.7137255, y=0.8022246),
                Point(x=0.7529412, y=0.8299114),
                Point(x=0.7921569, y=0.8573981),
                Point(x=0.8313725, y=0.8847152),
                Point(x=0.8705882, y=0.9118675),
                Point(x=0.9098039, y=0.9388393),
                Point(x=0.9490196, y=0.9655996),
                Point(x=0.9882353, y=0.9921054),
                Point(x=1.0000000, y=1.0000000),
            ],
        )

    def test_get_contrast(self) -> None:
        self.assertEqual(
            get_contrast(_SLOPE),
            [
                Point(x=0.0000000, y=0.0000000),
                Point(x=0.0470588, y=0.0003322),
                Point(x=0.0941176, y=0.0011509),
                Point(x=0.1411765, y=0.0032097),
                Point(x=0.1882353, y=0.0085433),
                Point(x=0.2352941, y=0.0219285),
                Point(x=0.2784314, y=0.0504445),
                Point(x=0.3098039, y=0.0900886),
                Point(x=0.3372549, y=0.1348660),
                Point(x=0.3607843, y=0.1778527),
                Point(x=0.3843137, y=0.2250094),
                Point(x=0.4078431, y=0.2760447),
                Point(x=0.4274510, y=0.3211632),
                Point(x=0.4470588, y=0.3681766),
                Point(x=0.4666667, y=0.4165371),
                Point(x=0.4862745, y=0.4656053),
                Point(x=0.5058824, y=0.5146801),
                Point(x=0.5254902, y=0.5630383),
                Point(x=0.5450980, y=0.6099782),
                Point(x=0.5647059, y=0.6548616),
                Point(x=0.5882353, y=0.7052576),
                Point(x=0.6117647, y=0.7512319),
                Point(x=0.6352941, y=0.7923754),
                Point(x=0.6627451, y=0.8341002),
                Point(x=0.6941176, y=0.8737549),
                Point(x=0.7294118, y=0.9090452),
                Point(x=0.7686275, y=0.9384341),
                Point(x=0.8117647, y=0.9613422),
                Point(x=0.8588235, y=0.9780778),
                Point(x=0.9058824, y=0.9888621),
                Point(x=0.9529412, y=0.9957063),
                Point(x=1.0000000, y=1.0000000),
            ],
        )

from unittest import TestCase

from .contrast_sigmoid import Point, get_contrast, get_flat

_GREY18 = 0.08
_SLOPE = 2.5


class ContrastSigmoid(TestCase):
    def test_get_flat(self) -> None:
        self.assertEqual(
            get_flat(_GREY18),
            [
                Point(x=0.0000000, y=0.0000000),
                Point(x=0.0196078, y=0.0519563),
                Point(x=0.0431373, y=0.0935217),
                Point(x=0.0705882, y=0.1346672),
                Point(x=0.0980392, y=0.1754197),
                Point(x=0.1254902, y=0.2156391),
                Point(x=0.1529412, y=0.2551833),
                Point(x=0.1803922, y=0.2939143),
                Point(x=0.2117647, y=0.3370191),
                Point(x=0.2431373, y=0.3787284),
                Point(x=0.2745098, y=0.4189067),
                Point(x=0.3058824, y=0.4574538),
                Point(x=0.3372549, y=0.4943059),
                Point(x=0.3686275, y=0.5294344),
                Point(x=0.4039216, y=0.5668998),
                Point(x=0.4392157, y=0.6022392),
                Point(x=0.4745098, y=0.6355408),
                Point(x=0.5098039, y=0.6669246),
                Point(x=0.5490196, y=0.6997218),
                Point(x=0.5882353, y=0.7305526),
                Point(x=0.6274510, y=0.7596588),
                Point(x=0.6666667, y=0.7872940),
                Point(x=0.7058824, y=0.8137185),
                Point(x=0.7490196, y=0.8417015),
                Point(x=0.7921569, y=0.8688905),
                Point(x=0.8352941, y=0.8956376),
                Point(x=0.8784314, y=0.9222949),
                Point(x=0.9215686, y=0.9492151),
                Point(x=0.9647059, y=0.9767545),
                Point(x=1.0000000, y=1.0000000),
            ],
        )

    def test_get_contrast(self) -> None:
        self.assertEqual(
            get_contrast(_SLOPE),
            [
                Point(x=0.0000000, y=0.0000000),
                Point(x=0.0470588, y=0.0001076),
                Point(x=0.0941176, y=0.0006041),
                Point(x=0.1411765, y=0.0026480),
                Point(x=0.1882353, y=0.0099893),
                Point(x=0.2313725, y=0.0304820),
                Point(x=0.2666667, y=0.0656970),
                Point(x=0.2980392, y=0.1066616),
                Point(x=0.3254902, y=0.1501738),
                Point(x=0.3490196, y=0.1932576),
                Point(x=0.3725490, y=0.2414044),
                Point(x=0.3921569, y=0.2849506),
                Point(x=0.4117647, y=0.3310293),
                Point(x=0.4313725, y=0.3789395),
                Point(x=0.4509804, y=0.4278723),
                Point(x=0.4705882, y=0.4769671),
                Point(x=0.4901961, y=0.5253739),
                Point(x=0.5098039, y=0.5723133),
                Point(x=0.5294118, y=0.6171244),
                Point(x=0.5529412, y=0.6673793),
                Point(x=0.5764706, y=0.7132606),
                Point(x=0.6000000, y=0.7544990),
                Point(x=0.6274510, y=0.7967413),
                Point(x=0.6588235, y=0.8376800),
                Point(x=0.6941176, y=0.8753459),
                Point(x=0.7333333, y=0.9083641),
                Point(x=0.7764706, y=0.9360543),
                Point(x=0.8196078, y=0.9567688),
                Point(x=0.8666667, y=0.9734323),
                Point(x=0.9137255, y=0.9855648),
                Point(x=0.9607843, y=0.9944327),
                Point(x=1.0000000, y=1.0000000),
            ],
        )

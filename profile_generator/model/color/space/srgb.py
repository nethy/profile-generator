from .. import white_point
from .color_space import ColorSpace

SRGB_XY = [[0.64, 0.33], [0.3, 0.6], [0.15, 0.06]]


def gamma(x: float) -> float:
    if x <= 0.0031308:
        return max(0.0, 12.92 * x)
    else:
        return min(1.0, 1.055 * x ** (1 / 2.4) - 0.055)


def inverse_gamma(x: float) -> float:
    if x <= 0.040449936:
        return max(0.0, x / 12.92)
    else:
        return min(1.0, ((x + 0.055) / 1.055) ** 2.4)


SRGB = ColorSpace(
    [
        [0.41245643908969243, 0.357576077643909, 0.18043748326639894],
        [0.21267285140562264, 0.715152155287818, 0.07217499330655958],
        [0.01933389558232931, 0.11919202588130297, 0.9503040785363679],
    ],
    [
        [3.240454162114103, -1.5371385127977157, -0.49853140955601577],
        [-0.9692660305051869, 1.8760108454466944, 0.041556017530349834],
        [0.05564343095911475, -0.20402591351675384, 1.057225188223179],
    ],
    white_point.D65_XYZ,
    gamma,
    inverse_gamma,
)
